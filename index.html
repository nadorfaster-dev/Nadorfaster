<!doctype html>
<html lang="ar">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>الناظور | Nador Faster</title>

  <!-- PWA manifest -->
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#ff6b6b">

  <!-- Basic styles (mobile-first) -->
  <style>
    :root{
      --bg:#0b0b0b; --card:#111; --accent:#ff6b6b; --muted:#9a9a9a; --glass:rgba(255,255,255,0.03);
      --radius:16px; --gap:18px; --font: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    html,body{height:100%; margin:0; background:var(--bg); color:#fff; font-family:var(--font);}
    a{color:inherit; text-decoration:none}
    header{padding:18px; display:flex; align-items:center; justify-content:space-between;}
    .brand{display:flex; align-items:center; gap:10px;}
    .brand .logo{width:48px; height:48px; background:#111; border-radius:12px; display:flex; align-items:center; justify-content:center; font-weight:700; font-size:20px; color:#fff;}
    .brand h1{font-size:18px; margin:0}
    .top-actions{display:flex; gap:10px; align-items:center;}
    .menu-btn{width:42px;height:42px;border-radius:10px;background:var(--card);display:flex;align-items:center;justify-content:center;cursor:pointer}
    .search{width:42px;height:42px;border-radius:10px;background:transparent;border:1px solid rgba(255,255,255,0.04);display:flex;align-items:center;justify-content:center}

    /* Tabs */
    .tabs{display:flex; gap:10px; padding:0 18px 10px; overflow:auto;}
    .tab{padding:8px 12px; border-radius:12px; background:var(--glass); color:var(--muted); font-size:14px; white-space:nowrap}
    .tab.active{background:linear-gradient(90deg,var(--accent), #ff3b6b); color:#fff; font-weight:600;}

    /* Grid of cards */
    .news-grid{display:grid; grid-template-columns:1fr; gap:var(--gap); padding:12px 12px 96px;}
    .card{background:var(--card); border-radius:var(--radius); overflow:hidden; box-shadow:0 12px 30px rgba(0,0,0,0.6); transition:transform .18s;}
    .card:hover{transform:translateY(-6px)}
    .card-media{height:200px; background-size:cover; background-position:center;}
    .card-body{padding:14px}
    .tag{display:inline-block;background:rgba(255,107,107,0.12); color:var(--accent); padding:6px 10px; border-radius:999px; font-size:12px;}
    .title{margin:10px 0 8px; font-size:18px; line-height:1.12}
    .meta{color:var(--muted); font-size:13px; display:flex; gap:8px; align-items:center}

    /* Big featured */
    .featured{position:relative; border-radius:18px; overflow:hidden}
    .featured .card-media{height:320px; filter:contrast(1.05) saturate(1.05)}
    .featured .overlay{position:absolute; left:0; right:0; bottom:0; padding:18px; background:linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.6) 60%); color:#fff}
    .featured .title{font-size:26px}

    /* bottom nav */
    nav.bottom-nav{position:fixed; left:12px; right:12px; bottom:12px; height:64px; background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:24px; display:flex; align-items:center; justify-content:space-around; box-shadow:0 10px 30px rgba(0,0,0,0.6)}
    .nav-item{font-size:12px; color:var(--muted); display:flex; flex-direction:column; align-items:center; gap:6px}
    .nav-item.active{color:var(--accent); font-weight:600}

    /* responsive */
    @media(min-width:800px){
      .news-grid{grid-template-columns:repeat(2,1fr); padding:18px 36px 120px;}
      header{padding:20px 36px}
    }
  </style>
</head>
<body>

  <header>
    <div class="brand">
      <div class="logo">N</div>
      <div>
        <h1>الناظور</h1>
        <div style="font-size:12px;color:var(--muted)">Nador Faster</div>
      </div>
    </div>
    <div class="top-actions">
      <div class="search" title="Search">🔍</div>
      <div class="menu-btn" id="menuBtn" title="Menu">☰</div>
    </div>
  </header>

  <div class="tabs" id="tabs">
    <div class="tab active">الرئيسية</div>
    <div class="tab">وطنية</div>
    <div class="tab">الشرق</div>
    <div class="tab">الحسيمة</div>
    <div class="tab">الدريوش</div>
    <div class="tab">الجالية</div>
    <div class="tab">آراء</div>
    <div class="tab">صوت وصورة</div>
  </div>

  <main>
    <!-- Featured article -->
    <section style="padding:0 12px;">
      <article class="card featured">
        <div class="card-media" style="background-image:url('https://images.unsplash.com/photo-1503264116251-35a269479413?auto=format&fit=crop&w=1400&q=60')"></div>
        <div class="overlay">
          <div class="tag">مقال مميز</div>
          <h2 class="title">عنوان مقال مميز: كاين حدث مهم فـ المدينة</h2>
          <div class="meta">بواسطة Admin • 3 دقائق قراءة</div>
        </div>
      </article>
    </section>

    <!-- Grid -->
    <section class="news-grid" id="newsGrid">
      <!-- sample cards -->
      <article class="card">
        <div class="card-media" style="background-image:url('https://images.unsplash.com/photo-1496307042754-b4aa456c4a2d?auto=format&fit=crop&w=1200&q=60')"></div>
        <div class="card-body">
          <div class="tag">الحسيمة</div>
          <h3 class="title">عنوان خبر سريع: تطورات جديدة</h3>
          <div class="meta">بواسطة محمد • 2 دقيقة</div>
        </div>
      </article>

      <article class="card">
        <div class="card-media" style="background-image:url('https://images.unsplash.com/photo-1509395176047-4a66953fd231?auto=format&fit=crop&w=1200&q=60')"></div>
        <div class="card-body">
          <div class="tag">وطنية</div>
          <h3 class="title">عنوان مقال: الاقتصاد المحلي ينمو</h3>
          <div class="meta">بواسطة فاطنة • 4 دقائق</div>
        </div>
      </article>

      <article class="card">
        <div class="card-media" style="background-image:url('https://images.unsplash.com/photo-1522199710521-72d69614c702?auto=format&fit=crop&w=1200&q=60')"></div>
        <div class="card-body">
          <div class="tag">الجالية</div>
          <h3 class="title">الشتات المغربي: لقاءات وفعاليات</h3>
          <div class="meta">بواسطة سمير • 3 دقائق</div>
        </div>
      </article>

      <article class="card">
        <div class="card-media" style="background-image:url('https://images.unsplash.com/photo-1446776811953-b23d57bd21aa?auto=format&fit=crop&w=1200&q=60')"></div>
        <div class="card-body">
          <div class="tag">صوت وصورة</div>
          <h3 class="title">فيديو: تغطية مباشرة للحفل الثقافي</h3>
          <div class="meta">بواسطة فريق الفيديو • بث مباشر</div>
        </div>
      </article>
    </section>
  </main>

  <!-- Bottom navigation -->
  <nav class="bottom-nav" role="navigation">
    <div class="nav-item active"><div>🏠</div>الرئيسية</div>
    <div class="nav-item"><div>📺</div>بث مباشر</div>
    <div class="nav-item"><div>🔔</div>تنبيهات</div>
    <div class="nav-item"><div>✉️</div>اتصل بنا</div>
  </nav>

  <!-- scripts -->
  <script>
    // Simple tab switch (front-end only)
    document.querySelectorAll('.tabs .tab').forEach(tab => {
      tab.addEventListener('click', () => {
        document.querySelectorAll('.tabs .tab').forEach(t=>t.classList.remove('active'));
        tab.classList.add('active');
        // you can add filtering logic here to show category-specific posts
      });
    });

    // Sample dynamic add more posts (simulate loading)
    const newsGrid = document.getElementById('newsGrid');
    function addFakeCard() {
      const art = document.createElement('article');
      art.className = 'card';
      art.innerHTML = `
        <div class="card-media" style="background-image:url('https://images.unsplash.com/photo-1526318472351-c75fcf0701d4?auto=format&fit=crop&w=1200&q=60')"></div>
        <div class="card-body">
          <div class="tag">الشرق</div>
          <h3 class="title">مقال جديد: تغطية خاصة</h3>
          <div class="meta">بواسطة فريق التحرير • الآن</div>
        </div>`;
      newsGrid.appendChild(art);
    }

    // register service worker
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/service-worker.js')
        .then(() => console.log('SW registered'))
        .catch(err => console.log('SW failed', err));
    }

    // prompt install for PWA (simple)
    let deferredPrompt;
    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      // show a simple prompt (you can replace with a button)
      setTimeout(()=> {
        if (confirm('Add Nador Faster to your home screen?')) {
          deferredPrompt.prompt();
          deferredPrompt.userChoice.then(choice => {
            deferredPrompt = null;
          });
        }
      }, 1500);
    });

    // for demo: add one fake card after 2s
    setTimeout(addFakeCard, 2000);
  </script> // ===== إدارة التبويبات (Tabs) =====
const tabs = document.querySelectorAll('.tabs .tab');
tabs.forEach(tab => {
  const activateTab = () => {
    tabs.forEach(t => t.classList.remove('active'));
    tab.classList.add('active');
    console.log("التبويب النشط: " + tab.textContent);
  };
  tab.addEventListener('click', activateTab);      // للحواسيب
  tab.addEventListener('touchstart', activateTab); // للهواتف
});

// ===== إضافة أخبار جديدة ديناميكياً =====
const newsGrid = document.getElementById('newsGrid');
function addFakeCard() {
  const art = document.createElement('article');
  art.className = 'card';
  art.innerHTML = `
    <div class="card-media" style="background-image:url('https://images.unsplash.com/photo-1526318472351-c75fcf0701d4?auto=format&fit=crop&w=1200&q=60')"></div>
    <div class="card-body">
      <div class="tag">الشرق</div>
      <h3 class="title">مقال جديد: تغطية خاصة</h3>
      <div class="meta">بواسطة فريق التحرير • الآن</div>
    </div>`;
  newsGrid.appendChild(art);
}
setTimeout(addFakeCard, 2000); // إضافة بطاقة بعد ثانيتين

// ===== تسجيل Service Worker =====
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/service-worker.js')
    .then(() => console.log('تم تسجيل Service Worker'))
    .catch(err => console.log('فشل تسجيل Service Worker', err));
}

// ===== نافذة تثبيت PWA =====
let deferredPrompt;
window.addEventListener('beforeinstallprompt', (e) => {
  e.preventDefault();
  deferredPrompt = e;
  setTimeout(()=> {
    if (confirm('هل تريد إضافة Nador Faster إلى الشاشة الرئيسية؟')) {
      deferredPrompt.prompt();
      deferredPrompt.userChoice.then(choice => {
        deferredPrompt = null;
      });
    }
  }, 1500);
});

// ===== زر القائمة =====
const menuBtn = document.getElementById('menuBtn');
const toggleMenu = () => alert('تم الضغط على زر القائمة!');
menuBtn.addEventListener('click', toggleMenu);
menuBtn.addEventListener('touchstart', toggleMenu);

</body>
</html>
